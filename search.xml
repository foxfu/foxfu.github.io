<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Angularjs å¡«å‘è®° 0520</title>
      <link href="/2019/05/20/angularjs-issue-fix/"/>
      <url>/2019/05/20/angularjs-issue-fix/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="AngularJS-å¡«å‘è®°-1-Factory-method-call-issue"><a href="#AngularJS-å¡«å‘è®°-1-Factory-method-call-issue" class="headerlink" title="AngularJS å¡«å‘è®° - 1 - Factory method call issue"></a>AngularJS å¡«å‘è®° - 1 - Factory method call issue</h1><p>åœ¨å°†è€é¡¹ç›®è¿›è¡Œå±€éƒ¨SPAåŒ–çš„è¿‡ç¨‹ä¸­è¯•å›¾æŠ½ç¦»æ•°æ®è®¿é—®çš„è¿‡ç¨‹ä¸­è«åé‡åˆ°ä¸ªè¯¡å¼‚çš„é—®é¢˜ï¼Œé¡µé¢æœ€åº•éƒ¨å®ç°äº†æ»šåŠ¨åŠ è½½ï¼Œä½†è½¬æˆæ¯æ¬¡ç”¨æŠ½ç¦»çš„æœåŠ¡æ–¹æ³•è¿›è¡Œè°ƒç”¨æ—¶å´è¿”å›çš„responseä¸­å§‹ç»ˆæ—¶ç¬¬ä¸€é¡µçš„æ•°æ®ï¼Œç»è¿‡æŸ¥è¯¢ä¸æµ‹è¯•è§£å†³ï¼Œç‰¹æ­¤çºªå¿µã€‚</p><h4 id="Controller-è°ƒç”¨éƒ¨åˆ†"><a href="#Controller-è°ƒç”¨éƒ¨åˆ†" class="headerlink" title="Controller è°ƒç”¨éƒ¨åˆ†"></a>Controller è°ƒç”¨éƒ¨åˆ†</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">angular.controller(&apos;MainController&apos;, function ($scope, $http, $q, htcDataService) &#123;</span><br><span class="line">........</span><br><span class="line">    //Methods</span><br><span class="line">    $scope.getProducts = function (append, isFromSearch) &#123;</span><br><span class="line">        $.showLoading();</span><br><span class="line">        $scope.isLoading = true;</span><br><span class="line">        htcDataService.getProducts($scope.qs.page, $scope.qs.keyword)</span><br><span class="line">            .then(function (response) &#123;</span><br><span class="line">                $.hideLoading();</span><br><span class="line">                if (response &amp;&amp; response.data &amp;&amp; response.data.length &gt; 0) &#123;</span><br><span class="line">                    //console.log(&apos;htcDataService.getProducts - &apos; + response.data.length);</span><br><span class="line">                    if (append) &#123;</span><br><span class="line">                        for (var i = 0; i &lt; response.data.length; i++) &#123;</span><br><span class="line">                            $scope.products.push(response.data[i]);//æ­¤å¤„responseå§‹ç»ˆè¿”å›ç¬¬ä¸€æ¬¡æˆåŠŸçš„ç¬¬ä¸€é¡µæ•°æ®ï¼Ÿï¼Ÿ</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125; else &#123;</span><br><span class="line">                        $scope.products = [];</span><br><span class="line">                        _.forEach(response.data, function (item) &#123;</span><br><span class="line">                            $scope.products.push(item);</span><br><span class="line">                        &#125;);</span><br><span class="line">                    &#125;</span><br><span class="line">                    //No need to load more</span><br><span class="line">                    if (isFromSearch || response.data.length == 0) &#123;</span><br><span class="line">                        $scope.infiniteOff();</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125; else &#123;</span><br><span class="line">                    //No data found</span><br><span class="line">                    $scope.infiniteOff();</span><br><span class="line">                &#125;</span><br><span class="line">                $scope.searchHintMsg = isFromSearch ? &quot;(æœç´¢åˆ°&quot; + response.data.length + &quot;æ¡ç»“æœ)&quot; : &quot;&quot;;</span><br><span class="line">                $scope.isLoading = false;</span><br><span class="line">            &#125;, function (response) &#123;</span><br><span class="line">                $.hideLoading();</span><br><span class="line">                // error  </span><br><span class="line">                console.log(response);</span><br><span class="line">                $.toast(&quot;åŠ è½½å¤±è´¥&quot;, &quot;forbidden&quot;);</span><br><span class="line">                $scope.searchHintMsg = &quot;&quot;;</span><br><span class="line">                $scope.isLoading = false;</span><br><span class="line">            &#125;);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h4 id="factoryæ–¹æ³•ä»£ç ç‰‡æ®µ"><a href="#factoryæ–¹æ³•ä»£ç ç‰‡æ®µ" class="headerlink" title="factoryæ–¹æ³•ä»£ç ç‰‡æ®µ"></a>factoryæ–¹æ³•ä»£ç ç‰‡æ®µ</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">angular.factory(&apos;htcDataService&apos;, function ($http, $q) &#123;</span><br><span class="line">    var apiRoot = &apos;/api/resource&apos;;</span><br><span class="line">    //var deferred = $q.defer();//æ”¾åœ¨æ­¤å¤„ä¼šæœ‰é—®é¢˜ï¼Œæ¯æ¬¡éƒ½æ˜¯å–çš„åŒä¸€æ•°æ®</span><br><span class="line"></span><br><span class="line">    var service = &#123;    // our factory definition</span><br><span class="line">        user: &#123;&#125;,</span><br><span class="line">        getProducts: function (page, keyword) &#123;</span><br><span class="line">            var qs = &quot;?page=&quot; + page + &quot;&amp;keyword=&quot; + keyword;</span><br><span class="line">            var deferred = $q.defer();</span><br><span class="line">            $http(&#123;</span><br><span class="line">                method: &apos;get&apos;,</span><br><span class="line">                url: apiRoot + &apos;/product&apos; + qs</span><br><span class="line">            &#125;).then(function (data) &#123;</span><br><span class="line">                deferred.resolve(data);</span><br><span class="line">            &#125;, function (data) &#123;</span><br><span class="line">                deferred.reject(data);</span><br><span class="line">            &#125;);</span><br><span class="line">            return deferred.promise;</span><br><span class="line">        &#125;,</span><br><span class="line">.......</span><br><span class="line">    &#125;;</span><br><span class="line">    return service;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>ç»è¿‡å¤šæ¬¡æµ‹è¯•ï¼Œå‘ç°å¯¹äº<code>var deferred = $q.defer();</code>çš„å®šä¹‰è¿˜æ˜¯éœ€è¦æ”¾åœ¨æ–¹æ³•ä½“å†…ï¼Œæ”¾åœ¨å¤–éƒ¨ä¼šæœ‰é—®é¢˜ã€‚<br>PSï¼Œåˆæ˜¯ä¸€å¹´520ï¼Œä»Šå¤©çš„æˆå°±æ˜¯åœ¨èš‚èšæ£®æ—æŠ¢äº†ä¸€å—ä¿æŠ¤åœ°ğŸ˜€</p>]]></content>
      
      
      <categories>
          
          <category> ITæŠ€æœ¯ç›¸å…³ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> AngularJs </tag>
            
            <tag> æŠ€æœ¯å‘ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¼ ä¿¡å“²-ã€Šåˆæ‹çš„åœ°æ–¹ã€‹</title>
      <link href="/2019/04/18/the-place-of-first-love/"/>
      <url>/2019/04/18/the-place-of-first-love/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>æœ€è¿‘å¶ç„¶é—´åœ¨å¹¿æ’­é‡Œå¬åˆ°å“²å“²çš„ä¸€é¦–æ–°æ­Œï¼Œè¯´æ–°æ­Œåªæ˜¯å¯¹è‡ªå·±è€Œè¨€çš„ï¼Œæ¯•ç«Ÿæ˜¯ç¬¬ä¸€æ¬¡å¬åˆ°ï¼Œæ„Ÿè§‰å¾ˆæŸ”ç¾ï¼Œç¬¦åˆå½“ä¸‹è‡ªå·±çš„å“å‘³ã€‚<br>äºæ˜¯è¿›å…¥è€å¥—è·¯ï¼š<strong>æœæ­Œ-&gt;å•æ›²å¾ªç¯-&gt;æœè°±</strong><br>ä½†è²Œä¼¼ä¸æ˜¯æŸäººçš„èœï¼Œè¿˜è¯´æˆ‘è€äººäº†ï¼Œå¯ä¸æ˜¯ä¹ˆï¼Œç¡®å®æ˜¯è·Ÿå“²å“²ä¸€æ ·è€å¹´äººäº† ğŸ˜¹<br>Anyway I like it. é¡ºå¸¦æŠŠé‚“ä¸½å›çš„åŸç‰ˆä»¥åŠç‹è²çš„ç‰ˆæœ¬ä¹Ÿéƒ½æ¬£èµäº†ä¸€éï¼Œæ„Ÿè§‰è¿˜æ˜¯å„æœ‰ç‰¹è‰²ã€‚</p>    <div id="aplayer-SDsCCrSj" class="aplayer aplayer-tag-marker meting-tag-marker" data-id="562592169" data-server="netease" data-type="song" data-mode="circulation" data-autoplay="false" data-mutex="true" data-listmaxheight="340px" data-preload="auto" data-theme="#ad7a86"></div>]]></content>
      
      
      <categories>
          
          <category> éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> life </tag>
            
            <tag> music </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ğŸ’—æ¬¢è¿è®¿é—®M&amp;SğŸ’—</title>
      <link href="/2019/04/08/welcome/"/>
      <url>/2019/04/08/welcome/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>äº²ï¼Œæ¬¢è¿è®¿é—®M&amp;Sçš„Blogï¼<br>è¿™é‡Œå°†ä¼šè®°å½•æˆ‘ä»¬ç”Ÿæ´»çš„ç‚¹æ»´ï¼Œæ¬¢è¿è¯„è®ºï¼<br>The site is created by Max with ğŸ’—!</p><p><img src="https://ws1.sinaimg.cn/large/6dec2b67ly1g1yqyva9wkj21y013dtg6.jpg" alt="Img"></p>]]></content>
      
      
      <categories>
          
          <category> éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> gossip </tag>
            
            <tag> life </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
