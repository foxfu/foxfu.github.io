{"meta":{"title":"M&S Life","subtitle":"å¿ƒåŠ¨ä¸å¦‚è¡ŒåŠ¨ï¼Œè¡ŒåŠ¨ä¸å¦‚é©¬ä¸Šå¿ƒåŠ¨","description":null,"author":"M&S","url":"http://shenweihui.cn","root":"/"},"pages":[{"title":"gallery","date":"2019-04-12T08:27:15.000Z","updated":"2019-04-12T08:27:28.981Z","comments":true,"path":"gallery/index.html","permalink":"http://shenweihui.cn/gallery/index.html","excerpt":"","text":""},{"title":"å…³äºM&S","date":"2019-04-10T08:11:03.000Z","updated":"2019-04-12T08:23:29.697Z","comments":true,"path":"about/index.html","permalink":"http://shenweihui.cn/about/index.html","excerpt":"","text":"åæ ‡ï¼šğŸŒ ä¸Šæµ· ğŸŒç®€ä»‹ï¼šğŸ‘‰ è¿™æ˜¯ä¸€ä¸ªè®°å½•Må…ˆç”Ÿå’ŒSå¥³å£«ä½›ï¼ˆæ‡’ï¼‰ç³»ï¼ˆäººï¼‰ç”Ÿæ´»çš„åšå®¢ç½‘ç«™ ğŸ’—"},{"title":"tags","date":"2019-04-12T08:14:39.000Z","updated":"2019-04-12T08:14:50.476Z","comments":true,"path":"tags/index.html","permalink":"http://shenweihui.cn/tags/index.html","excerpt":"","text":""},{"title":"timeline","date":"2019-04-12T08:11:22.000Z","updated":"2019-04-12T08:11:56.565Z","comments":true,"path":"timeline/index.html","permalink":"http://shenweihui.cn/timeline/index.html","excerpt":"","text":""}],"posts":[{"title":"Angularjs ngRoute å°è¯•ç‰›åˆ€","slug":"angularjs-route","date":"2019-05-23T08:14:18.000Z","updated":"2019-05-23T08:35:31.611Z","comments":true,"path":"2019/05/23/angularjs-route/","link":"","permalink":"http://shenweihui.cn/2019/05/23/angularjs-route/","excerpt":"","text":"HTCçš„ä¸šåŠ¡é€»è¾‘é¡µé¢è™½ç„¶ä¸æ˜¯å¾ˆå¤šï¼Œä½†SPAä¸­çš„è·¯ç”±æ˜¯ä¸å¯é¿å…åœ°è¦å°å°å­¦ä¹ ä¸€ä¸‹ï¼Œæ­£å¥½åœ¨è®¾è®¡è¯„è®ºé¡µé¢æ—¶æƒ³å€Ÿè¿™æœºä¼šå’Œæ˜ç»†é¡µé¢ä¸€èµ·ç”¨AngularJsè‡ªå¸¦çš„ngRouteæ¥æ ¹æ®ä¸åŒè·¯ç”±åŠ è½½ä¸åŒtemplateçš„ç›®çš„ã€‚æˆ‘æœ€åˆæ‰€è®¾æƒ³çš„è·¯ç”±å¾ˆç®€å•ï¼š äº§å“åˆ—è¡¨ â€œ/listâ€ äº§å“æ˜ç»† â€œ/{pid}â€ äº§å“è¯„è®º â€œ/{pid}/commentâ€ ä½†éšåæƒ³æƒ³åç»­æœ‰ä¸Šä¼ ç­‰å…¶ä»–è·¯ç”±éœ€æ±‚ï¼Œå› è€Œå†³å®šç¨å¾®çµæ´»ä¸€ç‚¹ï¼ˆæœ€å¥½å¼•å…¥æ­£åˆ™ï¼Œä½†çŸ­æœŸå¹¶ä¸éœ€è¦æ•…å…ˆæä¸‹ï¼‰ï¼ŒæŸ¥äº†ä¸‹èµ„æ–™å¹¶åšå°è¯•ï¼Œæœ€ç»ˆçš„å¤§æ¦‚ä»£ç å¦‚ä¸‹ï¼š123456789101112angular.config([&apos;$routeProvider&apos;, function config($routeProvider) &#123; $routeProvider. when(&apos;/list&apos;, &#123; template: &apos;&lt;product-list&gt;&lt;/product-list&gt;&apos; &#125;). when(&apos;/:productId/:operation?&apos;, &#123; template: getProductOperationTemplate &#125;). otherwise(&apos;/list&apos;); &#125; ]) å…¶ä¸­ç”¨ä¸€ä¸ªå…¨å±€çš„æ–¹æ³•æ¥æ ¹æ®è·¯ç”±å‚æ•°é€‰æ‹©ä¸åŒtemplate 123456789101112131415161718function getProductOperationTemplate(data) &#123; console.log(data); if (!data.operation) data.operation = &apos;detail&apos;;//default switch (data.operation) &#123; case &apos;upload&apos;: return &apos;&lt;user-upload&gt;&lt;/user-upload&gt;&apos;; break; case &apos;comment&apos;: return &apos;&lt;user-comment&gt;&lt;/user-comment&gt;&apos;; break; case &apos;detail&apos;: return &apos;&lt;product-detail&gt;&lt;/product-detail&gt;&apos;; break; default: return &apos;&apos;; &#125; //return &apos;&apos;;&#125; åœ¨controlleréƒ¨åˆ†å¯ä»¥ä½¿ç”¨$route.updateParams({ operation: â€˜commentâ€™ }); æˆ– $location.path($scope.productId + â€˜/commentâ€™);æ¥åŠ¨æ€æ›´æ–°è·¯ç”±ã€‚è‹¥éœ€è¦æ›´çµæ´»åœ°ç®¡ç†è·¯ç”±ï¼Œæ ¹æ®ç½‘ä¸Šçš„è¯´æ³•å¯ä»¥ç›‘å¬ç›¸å…³äº‹ä»¶è§¦å‘æ—¶è¿›è¡Œè·¯ç”±è·³è½¬ï¼Œè¿™æ ·å¯ä»¥ç”¨æ­£åˆ™åŒ¹é…ç­‰è¿›è¡Œæ§åˆ¶ï¼Œè€ƒè™‘ç›®å‰è¿˜ä¸éœ€è¦å› è€Œä¹Ÿæœªè¿›è¡Œç›¸å…³å°è¯•ã€‚123456angular.config().run([&apos;$rootScope&apos;,&apos;$location&apos;,function($rootScope,$location)&#123; $rootScope.$on(&apos;$locationChangeStart&apos;,function(event,next,current)&#123; //...... &#125;);&#125;]);","categories":[{"name":"ITæŠ€æœ¯ç›¸å…³","slug":"ITæŠ€æœ¯ç›¸å…³","permalink":"http://shenweihui.cn/categories/ITæŠ€æœ¯ç›¸å…³/"}],"tags":[{"name":"AngularJs","slug":"AngularJs","permalink":"http://shenweihui.cn/tags/AngularJs/"}]},{"title":"Angularjs å¡«å‘è®° 0520","slug":"angularjs-issue-fix","date":"2019-05-20T08:38:57.000Z","updated":"2019-05-20T08:48:14.075Z","comments":true,"path":"2019/05/20/angularjs-issue-fix/","link":"","permalink":"http://shenweihui.cn/2019/05/20/angularjs-issue-fix/","excerpt":"","text":"AngularJS å¡«å‘è®° - 1 - Factory method call issueåœ¨å°†è€é¡¹ç›®è¿›è¡Œå±€éƒ¨SPAåŒ–çš„è¿‡ç¨‹ä¸­è¯•å›¾æŠ½ç¦»æ•°æ®è®¿é—®çš„è¿‡ç¨‹ä¸­è«åé‡åˆ°ä¸ªè¯¡å¼‚çš„é—®é¢˜ï¼Œé¡µé¢æœ€åº•éƒ¨å®ç°äº†æ»šåŠ¨åŠ è½½ï¼Œä½†è½¬æˆæ¯æ¬¡ç”¨æŠ½ç¦»çš„æœåŠ¡æ–¹æ³•è¿›è¡Œè°ƒç”¨æ—¶å´è¿”å›çš„responseä¸­å§‹ç»ˆæ—¶ç¬¬ä¸€é¡µçš„æ•°æ®ï¼Œç»è¿‡æŸ¥è¯¢ä¸æµ‹è¯•è§£å†³ï¼Œç‰¹æ­¤çºªå¿µã€‚ Controller è°ƒç”¨éƒ¨åˆ†12345678910111213141516171819202122232425262728293031323334353637383940angular.controller(&apos;MainController&apos;, function ($scope, $http, $q, htcDataService) &#123; ........ //Methods $scope.getProducts = function (append, isFromSearch) &#123; $.showLoading(); $scope.isLoading = true; htcDataService.getProducts($scope.qs.page, $scope.qs.keyword) .then(function (response) &#123; $.hideLoading(); if (response &amp;&amp; response.data &amp;&amp; response.data.length &gt; 0) &#123; //console.log(&apos;htcDataService.getProducts - &apos; + response.data.length); if (append) &#123; for (var i = 0; i &lt; response.data.length; i++) &#123; $scope.products.push(response.data[i]);//æ­¤å¤„responseå§‹ç»ˆè¿”å›ç¬¬ä¸€æ¬¡æˆåŠŸçš„ç¬¬ä¸€é¡µæ•°æ®ï¼Ÿï¼Ÿ &#125; &#125; else &#123; $scope.products = []; _.forEach(response.data, function (item) &#123; $scope.products.push(item); &#125;); &#125; //No need to load more if (isFromSearch || response.data.length == 0) &#123; $scope.infiniteOff(); &#125; &#125; else &#123; //No data found $scope.infiniteOff(); &#125; $scope.searchHintMsg = isFromSearch ? &quot;(æœç´¢åˆ°&quot; + response.data.length + &quot;æ¡ç»“æœ)&quot; : &quot;&quot;; $scope.isLoading = false; &#125;, function (response) &#123; $.hideLoading(); // error console.log(response); $.toast(&quot;åŠ è½½å¤±è´¥&quot;, &quot;forbidden&quot;); $scope.searchHintMsg = &quot;&quot;; $scope.isLoading = false; &#125;); &#125; factoryæ–¹æ³•ä»£ç ç‰‡æ®µ1234567891011121314151617181920212223angular.factory(&apos;htcDataService&apos;, function ($http, $q) &#123; var apiRoot = &apos;/api/resource&apos;; //var deferred = $q.defer();//æ”¾åœ¨æ­¤å¤„ä¼šæœ‰é—®é¢˜ï¼Œæ¯æ¬¡éƒ½æ˜¯å–çš„åŒä¸€æ•°æ® var service = &#123; // our factory definition user: &#123;&#125;, getProducts: function (page, keyword) &#123; var qs = &quot;?page=&quot; + page + &quot;&amp;keyword=&quot; + keyword; var deferred = $q.defer(); $http(&#123; method: &apos;get&apos;, url: apiRoot + &apos;/product&apos; + qs &#125;).then(function (data) &#123; deferred.resolve(data); &#125;, function (data) &#123; deferred.reject(data); &#125;); return deferred.promise; &#125;, ....... &#125;; return service;&#125;); ç»è¿‡å¤šæ¬¡æµ‹è¯•ï¼Œå‘ç°å¯¹äºvar deferred = $q.defer();çš„å®šä¹‰è¿˜æ˜¯éœ€è¦æ”¾åœ¨æ–¹æ³•ä½“å†…ï¼Œæ”¾åœ¨å¤–éƒ¨ä¼šæœ‰é—®é¢˜ã€‚PSï¼Œåˆæ˜¯ä¸€å¹´520ï¼Œä»Šå¤©çš„æˆå°±æ˜¯åœ¨èš‚èšæ£®æ—æŠ¢äº†ä¸€å—ä¿æŠ¤åœ°ğŸ˜€","categories":[{"name":"ITæŠ€æœ¯ç›¸å…³","slug":"ITæŠ€æœ¯ç›¸å…³","permalink":"http://shenweihui.cn/categories/ITæŠ€æœ¯ç›¸å…³/"}],"tags":[{"name":"AngularJs","slug":"AngularJs","permalink":"http://shenweihui.cn/tags/AngularJs/"},{"name":"æŠ€æœ¯å‘","slug":"æŠ€æœ¯å‘","permalink":"http://shenweihui.cn/tags/æŠ€æœ¯å‘/"}]},{"title":"Angularjs directive ä»¿å¤§ä¼—ç‚¹è¯„è¯„åˆ†","slug":"angularjs-directive-htc-star","date":"2019-05-20T08:38:57.000Z","updated":"2019-05-23T08:15:31.182Z","comments":true,"path":"2019/05/20/angularjs-directive-htc-star/","link":"","permalink":"http://shenweihui.cn/2019/05/20/angularjs-directive-htc-star/","excerpt":"","text":"HTCçš„ç°æœ‰AngularJS+Asp.net MVCçš„æ‚ä¹±æ¶æ„å·²ç»æ— åŠ›åæ§½äº†ï¼Œåœ¨æˆ‘çœ‹æ¥æœ€ä½³é‡æ„çš„æ–¹å¼å°±æ˜¯é‡æ–°å†™ä¸€å¥—æ–°çš„ğŸ˜‚ä½†æ—¢ç„¶é¢†å¯¼å±‚é‚£ä¹ˆä½›æ€§ï¼Œæˆ‘ä¹Ÿå°±æ…¢æ…¢è¾¹å­¦æ–°ä¸œè¥¿è¾¹æ”¹é€ ç°æœ‰çš„ä»£ç å§ã€‚åœ¨æŠŠç°æœ‰çš„Asp.net MVCç§»åŠ¨ç«¯Bootstrapé€‚é…é¡µé¢è¿›è¡Œç›¸åº”çš„H5å•é¡µé¢çš„è¿‡ç¨‹ä¸­ï¼Œé€»è¾‘çš„æ¢³ç†æš‚æ—¶å†³å®šæ”¾åœ¨ä¹‹åå†æï¼Œå…ˆæŠŠåŸºæœ¬çš„ç®€å•åŠŸèƒ½è½¬å¥½å†è¯´ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªå…³äºäº§å“çš„è¯„åˆ†æ‰“æ˜ŸåŠŸèƒ½æˆ‘è§‰å¾—è¿˜æ˜¯å¯ä»¥æŠ½å‡ºæ¥è¿›è¡ŒåæœŸå¤ç”¨çš„ï¼Œå› è€ŒæŠŠå®ƒåšæˆä¸€ä¸ªå•ç‹¬çš„directiveæ˜¯ä¸ªå¾ˆè‡ªç„¶çš„æ–¹å¼äº†ï¼Œåˆæ­¥çš„æƒ³æ³•æ˜¯æ¥å—ä¸€ä¸ªåˆ†æ•°å€¼ï¼ˆæ¯”å¦‚3.5åˆ†ï¼‰å¹¶æ˜¾ç¤ºç›¸åº”çš„æ‰“æ˜ŸçŠ¶å†µï¼Œç±»ä¼¼äºå¤§ä¼—ç‚¹è¯„æˆ–è±†ç“£ç”µå½±çš„æ€»è®¡è¯„åˆ†ã€‚æœ‰äº†åˆæ­¥æƒ³æ³•å°±å¼€æï¼š Directiveéƒ¨åˆ†å¯¹äºDirectiveéƒ¨åˆ†ä¹‹å‰æˆ‘å°è±¡ä¸­åšè¿‡çš„é¡¹ç›®éƒ½æ˜¯ç›´æ¥å¤åˆ¶ç°æˆçš„åšå°ä¿®æ”¹ï¼Œè¿™æ¬¡æ—¢ç„¶æ˜¯æ–°çš„ï¼ˆå¾ˆé—æ†¾ç°æœ‰çš„HTCé¡¹ç›®é‡Œç«Ÿç„¶éƒ½æ²¡æœ‰å‰¥ç¦»å‡ºå¯å¤ç”¨çš„directiveï¼ŒçœŸæ˜¯æœäº†å®‰å¾·æ‹‰å¸¦é¢†çš„è¿™äº›æ··æ—¥å­çš„ï¼‰ï¼Œå†³å®šå°å°ç ”ç©¶ä¸€ä¸‹ä¸€äº›å¿…è¦çš„å‚æ•°ï¼ŒæŸ¥é˜…äº†ç½‘ä¸ŠæŸç¯‡å…³äºdirectiveä¸­å‚æ•°çš„è¯´æ˜ http://blog.51yip.com/jsjquery/1607.html æœ€ç»ˆçš„directiveä¸º12345678910//Directivesangular.directive(&apos;htcStar&apos;, function () &#123; return &#123; restrict: &apos;EA&apos;, templateUrl: &apos;/templates/htc-star.template.html&apos;, scope: &#123; starRating: &apos;@&apos; &#125; &#125;;&#125;); Templateéƒ¨åˆ†1234567891011121314151617181920&lt;div class=&quot;starwrapper&quot;&gt; &lt;span class=&quot;&quot; star-rating=&quot;&#123;&#123;starRating&#125;&#125;&quot;&gt; &lt;span class=&quot;fa fa-star&quot; ng-class=&quot;&#123;&apos;fa-star-open&apos; : starRating&lt;1&#125;&quot;&gt; &lt;span class=&quot;fa fa-star fa-star-percentage&quot; ng-if=&quot;starRating&gt;0 &amp;&amp; starRating&lt;1&quot; ng-style=&quot;&#123;&apos;width&apos;:&apos;&#123;&#123;starRating*100&#125;&#125;%&apos;&#125;&quot;&gt;&lt;/span&gt; &lt;/span&gt; &lt;span class=&quot;fa fa-star&quot; ng-class=&quot;&#123;&apos;fa-star-open&apos; : starRating&lt;2&#125;&quot;&gt; &lt;span class=&quot;fa fa-star fa-star-percentage&quot; ng-if=&quot;starRating&gt;1 &amp;&amp; starRating&lt;2&quot; ng-style=&quot;&#123;&apos;width&apos;:&apos;&#123;&#123;(starRating - 1)*100&#125;&#125;%&apos;&#125;&quot;&gt;&lt;/span&gt; &lt;/span&gt; &lt;span class=&quot;fa fa-star&quot; ng-class=&quot;&#123;&apos;fa-star-open&apos; : starRating&lt;3&#125;&quot;&gt; &lt;span class=&quot;fa fa-star fa-star-percentage&quot; ng-if=&quot;starRating&gt;2 &amp;&amp; starRating&lt;3&quot; ng-style=&quot;&#123;&apos;width&apos;:&apos;&#123;&#123;(starRating - 2)*100&#125;&#125;%&apos;&#125;&quot;&gt;&lt;/span&gt; &lt;/span&gt; &lt;span class=&quot;fa fa-star&quot; ng-class=&quot;&#123;&apos;fa-star-open&apos; : starRating&lt;4&#125;&quot;&gt; &lt;span class=&quot;fa fa-star fa-star-percentage&quot; ng-if=&quot;starRating&gt;3 &amp;&amp; starRating&lt;4&quot; ng-style=&quot;&#123;&apos;width&apos;:&apos;&#123;&#123;(starRating - 3)*100&#125;&#125;%&apos;&#125;&quot;&gt;&lt;/span&gt; &lt;/span&gt; &lt;span class=&quot;fa fa-star&quot; ng-class=&quot;&#123;&apos;fa-star-open&apos; : starRating&lt;5&#125;&quot;&gt; &lt;span class=&quot;fa fa-star fa-star-percentage&quot; ng-if=&quot;starRating&gt;4 &amp;&amp; starRating&lt;5&quot; ng-style=&quot;&#123;&apos;width&apos;:&apos;&#123;&#123;(starRating - 4)*100&#125;&#125;%&apos;&#125;&quot;&gt;&lt;/span&gt; &lt;/span&gt; &lt;span&gt;&#123;&#123;starRating&#125;&#125;&lt;/span&gt; &lt;/span&gt;&lt;/div&gt; ç›¸å…³CSS1234567891011121314151617181920212223.starwrapper .fa &#123; position: relative;&#125;.starwrapper .fa-star &#123; color: #0edb73;&#125;.starwrapper .fa-star-open &#123; color: #cacaca;&#125;.fa-star-percentage &#123; color: #CCCCCC&#125;.starwrapper .fa-star-percentage &#123; position: absolute; top: 0; overflow: hidden; margin: 0px !important; left: 0;&#125; ä¹‹ååœ¨éœ€è¦æ˜¾ç¤ºè¯„åˆ†çš„é¡µé¢åŠ å…¥1&lt;htc-star star-rating=&apos;&#123;&#123;p.StarRating&#125;&#125;&apos;&gt;&lt;/htc-star&gt; å³å¯æ˜¾ç¤ºæœ€ç»ˆæ•ˆæœï¼š","categories":[{"name":"ITæŠ€æœ¯ç›¸å…³","slug":"ITæŠ€æœ¯ç›¸å…³","permalink":"http://shenweihui.cn/categories/ITæŠ€æœ¯ç›¸å…³/"}],"tags":[{"name":"AngularJs","slug":"AngularJs","permalink":"http://shenweihui.cn/tags/AngularJs/"}]},{"title":"å¼ ä¿¡å“²-ã€Šåˆæ‹çš„åœ°æ–¹ã€‹","slug":"the-place-of-first-love","date":"2019-04-18T04:48:53.000Z","updated":"2019-04-18T07:10:32.041Z","comments":true,"path":"2019/04/18/the-place-of-first-love/","link":"","permalink":"http://shenweihui.cn/2019/04/18/the-place-of-first-love/","excerpt":"","text":"æœ€è¿‘å¶ç„¶é—´åœ¨å¹¿æ’­é‡Œå¬åˆ°å“²å“²çš„ä¸€é¦–æ–°æ­Œï¼Œè¯´æ–°æ­Œåªæ˜¯å¯¹è‡ªå·±è€Œè¨€çš„ï¼Œæ¯•ç«Ÿæ˜¯ç¬¬ä¸€æ¬¡å¬åˆ°ï¼Œæ„Ÿè§‰å¾ˆæŸ”ç¾ï¼Œç¬¦åˆå½“ä¸‹è‡ªå·±çš„å“å‘³ã€‚äºæ˜¯è¿›å…¥è€å¥—è·¯ï¼šæœæ­Œ-&gt;å•æ›²å¾ªç¯-&gt;æœè°±ä½†è²Œä¼¼ä¸æ˜¯æŸäººçš„èœï¼Œè¿˜è¯´æˆ‘è€äººäº†ï¼Œå¯ä¸æ˜¯ä¹ˆï¼Œç¡®å®æ˜¯è·Ÿå“²å“²ä¸€æ ·è€å¹´äººäº† ğŸ˜¹Anyway I like it. é¡ºå¸¦æŠŠé‚“ä¸½å›çš„åŸç‰ˆä»¥åŠç‹è²çš„ç‰ˆæœ¬ä¹Ÿéƒ½æ¬£èµäº†ä¸€éï¼Œæ„Ÿè§‰è¿˜æ˜¯å„æœ‰ç‰¹è‰²ã€‚","categories":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"http://shenweihui.cn/categories/éšç¬”/"}],"tags":[{"name":"life","slug":"life","permalink":"http://shenweihui.cn/tags/life/"},{"name":"music","slug":"music","permalink":"http://shenweihui.cn/tags/music/"}]},{"title":"ğŸ’—æ¬¢è¿è®¿é—®M&SğŸ’—","slug":"welcome","date":"2019-04-08T07:44:30.000Z","updated":"2019-04-18T07:48:12.334Z","comments":true,"path":"2019/04/08/welcome/","link":"","permalink":"http://shenweihui.cn/2019/04/08/welcome/","excerpt":"","text":"äº²ï¼Œæ¬¢è¿è®¿é—®M&amp;Sçš„Blogï¼è¿™é‡Œå°†ä¼šè®°å½•æˆ‘ä»¬ç”Ÿæ´»çš„ç‚¹æ»´ï¼Œæ¬¢è¿è¯„è®ºï¼The site is created by Max with ğŸ’—!","categories":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"http://shenweihui.cn/categories/éšç¬”/"}],"tags":[{"name":"life","slug":"life","permalink":"http://shenweihui.cn/tags/life/"},{"name":"gossip","slug":"gossip","permalink":"http://shenweihui.cn/tags/gossip/"}]}]}